(function(e){function t(t){for(var n,i,o=t[0],c=t[1],a=t[2],b=0,d=[];b<o.length;b++)i=o[b],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&d.push(r[i][0]),r[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);u&&u(t);while(d.length)d.shift()();return l.push.apply(l,a||[]),s()}function s(){for(var e,t=0;t<l.length;t++){for(var s=l[t],n=!0,o=1;o<s.length;o++){var c=s[o];0!==r[c]&&(n=!1)}n&&(l.splice(t--,1),e=i(i.s=s[0]))}return e}var n={},r={app:0},l=[];function i(t){if(n[t])return n[t].exports;var s=n[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=e,i.c=n,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(s,n,function(t){return e[t]}.bind(null,n));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/calculator/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var a=0;a<o.length;a++)t(o[a]);var u=c;l.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("cd49")},"0190":function(e,t,s){e.exports=s.p+"img/moon.d5f6aae8.svg"},"0d45":function(e,t,s){e.exports=s.p+"img/delete.afd45085.svg"},1:function(e,t){},1254:function(e,t,s){},3961:function(e,t,s){e.exports=s.p+"img/sun.e10fddc7.svg"},"6afa":function(e,t,s){"use strict";s("c503")},"755b":function(e,t,s){e.exports=s.p+"img/clock.d15cbf39.svg"},"7d05":function(e,t,s){},c2c6:function(e,t,s){"use strict";s("1254")},c503:function(e,t,s){},cd49:function(e,t,s){"use strict";s.r(t);var n=s("7a23"),r=s("3961"),l=s.n(r),i=s("0190"),o=s.n(i);const c={class:"my_calculator_bg flex flex-col w-full h-full sm:rounded-3xl bg-white dark:bg-gray-800 pt-0 px-5 pb-8"},a={class:"menu flex justify-between w-full mt-8 mx-0 mb-4"},u={class:"menu_tool"},b={src:l.a,alt:""},d={src:o.a,alt:""},h={class:"main flex-grow w-full relative text-gray-400 text-right"};function m(e,t,s,r,l,i){const o=Object(n["l"])("MainMenuButton"),m=Object(n["l"])("CalculatorTool"),p=Object(n["l"])("ConverterTool"),g=Object(n["l"])("ErrorMessage");return Object(n["j"])(),Object(n["e"])("div",{class:Object(n["i"])((e.isDark?"dark":"")+" flex justify-center items-center w-screen h-screen font-sans bg-gray-200")},[Object(n["f"])("div",c,[Object(n["f"])("div",a,[Object(n["f"])("div",u,[Object(n["g"])(o,{title:"Калькулятор",isActive:"Калькулятор"===e.tool,onClick:t[0]||(t[0]=t=>e.changeTool(t))},null,8,["isActive"]),Object(n["g"])(o,{title:"Конвертер",isActive:"Конвертер"===e.tool,onClick:t[1]||(t[1]=t=>e.changeTool(t))},null,8,["isActive"])]),Object(n["f"])("button",{class:"menu_theme border-0 bg-opacity-0 ml-4 pt-1",onClick:t[2]||(t[2]=(...t)=>e.changeDarkMode&&e.changeDarkMode(...t))},[Object(n["o"])(Object(n["f"])("img",b,null,512),[[n["n"],e.isDark]]),Object(n["o"])(Object(n["f"])("img",d,null,512),[[n["n"],!e.isDark]])])]),Object(n["f"])("div",h,["Калькулятор"===e.tool?(Object(n["j"])(),Object(n["c"])(m,{key:0,onUpdateMessage:t[3]||(t[3]=t=>e.setMessage(t))})):Object(n["d"])("",!0),"Конвертер"===e.tool?(Object(n["j"])(),Object(n["c"])(p,{key:1,onUpdateMessage:t[4]||(t[4]=t=>e.setMessage(t))})):Object(n["d"])("",!0),e.message?(Object(n["j"])(),Object(n["c"])(g,{key:2,message:e.message},null,8,["message"])):Object(n["d"])("",!0)])])],2)}function p(e,t,s,r,l,i){return Object(n["j"])(),Object(n["e"])("button",{class:Object(n["i"])((e.isActive?"bg-green-400 dark:bg-white text-white dark:text-green-400":"text-gray-400 bg-opacity-0")+" mx-2 my-0 py-1 sm:py-2 px-2.5 text-xs font-bold rounded-2xl border-0"),onClick:t[0]||(t[0]=t=>e.$emit("click",e.title))},Object(n["m"])(e.title),3)}var g=Object(n["h"])({name:"MainMenuButton",props:{title:{type:String,required:!0},isActive:Boolean},emits:["click"]}),y=s("6b0d"),v=s.n(y);const f=v()(g,[["render",p]]);var j=f,O=s("0d45"),k=s.n(O),x=s("755b"),w=s.n(x);const B={class:"calculator flex flex-col justify-between h-full"},C={class:"history flex items-start"},M=Object(n["f"])("img",{src:k.a,alt:""},null,-1),H=[M],F={class:"history_content w-full max-h-full overflow-y-auto"},P=["onClick"],S={class:"current flex flex-col flex-grow justify-between"},_={class:"current_data flex"},D=Object(n["f"])("img",{src:w.a,alt:""},null,-1),T=[D],$={class:"expression flex flex-col justify-end w-full sm:h-36 sm:text-xl"},I={class:"max-h-full overflow-y-auto"},A={class:"current_result flex justify-end text-green-400 overflow-x-hidden text-6xl sm:text-7xl"};function E(e,t,s,r,l,i){const o=Object(n["l"])("ControlPad");return Object(n["j"])(),Object(n["e"])("div",B,[Object(n["o"])(Object(n["f"])("div",C,[Object(n["f"])("div",{class:"cursor-pointer my-0 mx-2 text-4xl leading-5 dark:text-gray-400",onClick:t[0]||(t[0]=(...t)=>e.closeHistory&&e.closeHistory(...t))}," × "),Object(n["o"])(Object(n["f"])("div",{class:"cursor-pointer my-1 mx-2",onClick:t[1]||(t[1]=(...t)=>e.clearHistory&&e.clearHistory(...t))},H,512),[[n["n"],!!e.history.length]]),Object(n["f"])("div",F,[(Object(n["j"])(!0),Object(n["e"])(n["a"],null,Object(n["k"])(e.history,t=>(Object(n["j"])(),Object(n["e"])("p",{key:t,class:"mt-2 cursor-pointer",onClick:s=>e.onClickHistoryItem(t)},Object(n["m"])(t),9,P))),128))])],512),[[n["n"],e.showedHistory]]),Object(n["o"])(Object(n["f"])("div",S,[Object(n["f"])("div",_,[Object(n["f"])("div",{class:"cursor-pointer my-0 mx-2",onClick:t[2]||(t[2]=(...t)=>e.showHistory&&e.showHistory(...t))},T),Object(n["f"])("div",$,[Object(n["f"])("p",I,Object(n["m"])(e.expression),1)])]),Object(n["f"])("div",A,Object(n["m"])(e.result),1)],512),[[n["n"],!e.showedHistory]]),Object(n["g"])(o,{tool:"Калькулятор",onClick:t[3]||(t[3]=t=>e.onPressKey(t))})])}s("14d9");var K=s("cb71");function U(e,t,s){const n=parseFloat(e);if(e.length>s){if(e.includes(".")){const r=e.indexOf(".");return r<s&&n<1e21?n.toFixed(s-(r+1)):n.toExponential(t)}return n.toExponential(t)}return e}const q={"Калькулятор":[{sign:"C",type:"delete",value:"c"},{sign:"&lt;",type:"delete",value:"back"},{sign:"&#37;",type:"operation",value:"%"},{sign:"&#247;",type:"operation",value:"/"},{sign:"7",type:"number",value:"7"},{sign:"8",type:"number",value:"8"},{sign:"9",type:"number",value:"9"},{sign:"&#215;",type:"operation",value:"*"},{sign:"4",type:"number",value:"4"},{sign:"5",type:"number",value:"5"},{sign:"6",type:"number",value:"6"},{sign:"&#8722;",type:"operation",value:"-"},{sign:"1",type:"number",value:"1"},{sign:"2",type:"number",value:"2"},{sign:"3",type:"number",value:"3"},{sign:"&#43;",type:"operation",value:"+"},{sign:"&#40;&#41;",type:"number",value:"()"},{sign:"0",type:"number",value:"0"},{sign:"&#183;",type:"number",value:"."},{sign:"&#61;",type:"operation",value:"="}],"Конвертер":[{sign:"7",type:"number",value:"7"},{sign:"8",type:"number",value:"8"},{sign:"9",type:"number",value:"9"},{sign:"&lt;",type:"delete",value:"back"},{sign:"4",type:"number",value:"4"},{sign:"5",type:"number",value:"5"},{sign:"6",type:"number",value:"6"},{sign:"C",type:"delete",value:"c"},{sign:"1",type:"number",value:"1"},{sign:"2",type:"number",value:"2"},{sign:"3",type:"number",value:"3"},{sign:"&#8593;",type:"operation",value:"up"},{sign:"&plus;&sol;&minus;",type:"number",value:"negate"},{sign:"0",type:"number",value:"0"},{sign:"&#183;",type:"number",value:"."},{sign:"&#8595;",type:"operation",value:"down"}]},L={"Площадь":[{name:"Квадратные метры",symbol:"m2"},{name:"Гектары",symbol:"hectare"},{name:"Акры",symbol:"acre"},{name:"Квадратные дюймы",symbol:"sqin"},{name:"Квадратные футы",symbol:"sqft"}],"Длина":[{name:"Метры",symbol:"m"},{name:"Дюймы",symbol:"in"},{name:"Футы",symbol:"ft"},{name:"Ярды",symbol:"yd"},{name:"Мили",symbol:"mi"}],"Объём":[{name:"Кубические метры",symbol:"m3"},{name:"Кубические дюймы",symbol:"cuin"},{name:"Кубические футы",symbol:"cuft"},{name:"Кубические ярды",symbol:"cuyd"},{name:"Литры",symbol:"liter"},{name:"Галлоны",symbol:"gal"},{name:"Баррели",symbol:"obl"}],"Температура":[{name:"Кельвины",symbol:"K"},{name:"Градусы Цельсия",symbol:"degC"},{name:"Градусы Фаренгейта",symbol:"degF"}],"Масса":[{name:"Граммы",symbol:"g"},{name:"Килограммы",symbol:"kg"},{name:"Тонны",symbol:"tonne"},{name:"Унции",symbol:"oz"},{name:"Фунты",symbol:"lbm"}]},J={class:"control grid grid-cols-4 gap-4 place-items-center pt-4"},z=["innerHTML","disabled","onClick"];function W(e,t,s,r,l,i){return Object(n["j"])(),Object(n["e"])("div",J,[(Object(n["j"])(!0),Object(n["e"])(n["a"],null,Object(n["k"])(e.buttons,t=>(Object(n["j"])(),Object(n["e"])("button",{key:t.sign,innerHTML:t.sign,class:Object(n["i"])("control_button bg-transparent border-0 rounded-full text-2xl xs:text-3xl sm:text-4xl disabled:text-gray-200 "+("operation"===t.type?"text-green-400 dark:bg-white dark:disabled:text-gray-200":"delete"===t.type?"text-gray-500 dark:text-white dark:bg-gray-400":"text-gray-400  dark:disabled:text-gray-500")),disabled:e.getDisabled(t.value),onClick:s=>e.$emit("click",t.value)},null,10,z))),128))])}var G=Object(n["h"])({name:"ControlPad",props:{tool:{type:String,required:!0},disabledButtons:Array},emits:["click"],computed:{buttons(){return q[this.tool]}},methods:{getDisabled(e){return"Конвертер"===this.tool&&(!!this.disabledButtons&&this.disabledButtons.includes(e))}}});s("c2c6");const N=v()(G,[["render",W]]);var Q=N,R=Object(n["h"])({name:"CalculatorTool",components:{ControlPad:Q},emits:["update-message"],data(){const e=[];return{result:"",history:e,expression:"",isOpenBracket:!1,operations:["%","*","/","+","-"],isCalculated:!1,showedHistory:!1}},mounted(){document.addEventListener("keydown",e=>this.onPressKey(e.key))},methods:{onPressKey(e){"back"===e||"Backspace"===e?("("!==this.result[this.result.length-1]&&")"!==this.result[this.result.length-1]||(this.isOpenBracket=!1),this.result=this.result.slice(0,this.result.length-1),this.isCalculated&&(this.expression="",this.isCalculated=!1)):"c"===e?(this.result="",this.expression="",this.isOpenBracket=!1,this.isCalculated=!1):"="===e||"Enter"===e?(this.result&&(this.expression+=this.result),this.calculate(this.expression)):this.operations.includes(e)?(this.isCalculated?(this.expression=this.result+` ${e} `,this.isCalculated=!1):this.expression+=this.result+` ${e} `,this.result=""):isFinite(+e)?(this.result?this.result+=e:this.result=e,this.isCalculated&&(this.expression="",this.isCalculated=!1)):"()"===e?this.isOpenBracket?(this.isOpenBracket=!1,this.result+=")"):(this.isOpenBracket=!0,this.result+="("):"("===e?(this.isOpenBracket=!0,this.result+=e):")"===e?(this.isOpenBracket=!1,this.result+=e):"."===e&&(this.result?this.result+=e:this.result="0.")},calculate(e){if(e)try{this.result=U(Object(K["a"])(e).toString(),2,8),this.history.push(e),this.isCalculated=!0,this.$emit("update-message","")}catch{this.result="",this.expression="",this.isOpenBracket=!1,this.$emit("update-message","Некорректное выражение")}},showHistory(){this.showedHistory=!0},closeHistory(){this.showedHistory=!1},onClickHistoryItem(e){this.calculate(e),this.expression="",this.closeHistory()},clearHistory(){this.history=[],this.closeHistory()}}});s("d8ce");const V=v()(R,[["render",E]]);var X=V;const Y={class:"flex flex-col justify-between h-full divide-y divide-gray-200 dark:divide-gray-500"},Z={id:"converter_menu",class:"flex justify-between w-full overflow-x-auto pb-4"},ee=["onClick"];function te(e,t,s,r,l,i){const o=Object(n["l"])("InputBlock"),c=Object(n["l"])("ControlPad");return Object(n["j"])(),Object(n["e"])("div",Y,[Object(n["f"])("div",Z,[(Object(n["j"])(!0),Object(n["e"])(n["a"],null,Object(n["k"])(e.menuItems,t=>(Object(n["j"])(),Object(n["e"])("button",{key:t,class:Object(n["i"])(e.getMenuButtonClass(t)),onClick:s=>e.changeBase(t)},Object(n["m"])(t),11,ee))),128))]),Object(n["g"])(o,{ref:"up",units:e.units,isFocused:"up"===this.currentFocus,unit:e.blocks.up.unit,"onUpdate:unit":[t[0]||(t[0]=t=>e.blocks.up.unit=t),e.convert],value:e.blocks.up.value},null,8,["units","isFocused","unit","onUpdate:unit","value"]),Object(n["g"])(o,{ref:"down",units:e.units,isFocused:"down"===this.currentFocus,unit:e.blocks.down.unit,"onUpdate:unit":[t[1]||(t[1]=t=>e.blocks.down.unit=t),e.convert],value:e.blocks.down.value},null,8,["units","isFocused","unit","onUpdate:unit","value"]),Object(n["g"])(c,{tool:"Конвертер",disabledButtons:e.disabledButtons,onClick:t[2]||(t[2]=t=>e.onPressKey(t))},null,8,["disabledButtons"])])}const se={class:"flex-grow flex flex-col justify-between items-start py-2 px-0 xs:pb-4"},ne=["value"],re=["value"],le={class:"w-full text-xs sm:text-sm"};function ie(e,t,s,r,l,i){return Object(n["j"])(),Object(n["e"])("div",se,[Object(n["f"])("select",{value:e.unit,class:"bg-transparent text-sm sm:text-base text-gray-400 focus:outline-none cursor-pointer",onChange:t[0]||(t[0]=t=>e.$emit("update:unit",t.target.value))},[(Object(n["j"])(!0),Object(n["e"])(n["a"],null,Object(n["k"])(e.units,e=>(Object(n["j"])(),Object(n["e"])("option",{class:"dark:bg-gray-800",key:e.symbol,value:e.symbol},Object(n["m"])(e.name),9,re))),128))],40,ne),Object(n["f"])("div",le,[Object(n["o"])(Object(n["f"])("p",null,"Введите значение:",512),[[n["n"],e.isFocused]]),Object(n["f"])("p",{class:Object(n["i"])(e.getInputClass())},Object(n["m"])(e.value),3)])])}var oe=Object(n["h"])({name:"InputBlock",props:{unit:String,value:String,units:Array,isFocused:Boolean},emits:["update:unit"],methods:{getInputClass(){return`h-7 mt-2 px-1 text-xl leading-6 ${this.isFocused?"border border-green-400":""} rounded`}}});const ce=v()(oe,[["render",ie]]);var ae=ce,ue=Object(n["h"])({name:"ConverterTool",components:{ControlPad:Q,InputBlock:ae},emits:["update-message"],data(){const e={up:{value:"",unit:""},down:{value:"",unit:""}};return{currentBase:"",blocks:e,currentFocus:"up"}},computed:{menuItems(){return Object.keys(L)},units(){return L[this.currentBase]||[]},currentBlock(){return this.blocks[this.currentFocus]},targetBlock(){return this.blocks[Object.keys(this.blocks).filter(e=>e!==this.currentFocus)[0]]},disabledButtons(){let e=[];return"Температура"!==this.currentBase&&e.push("negate"),e.push(this.currentFocus),e}},mounted(){this.changeBase(Object.keys(L)[0]),document.addEventListener("keydown",e=>this.onPressKey(e.key))},methods:{getMenuButtonClass(e){return"py-1 px-2.5 bg-opacity-0 text-xs text-gray-400 rounded-3xl "+(this.currentBase===e?"border border-gray-400":"")},changeBase(e){this.currentBase=e,this.blocks.up.unit=this.units[0].symbol,this.blocks.down.unit=this.units[1].symbol,this.clearInputs(),this.currentFocus="up"},clearInputs(){this.blocks.up.value="",this.blocks.down.value=""},onPressKey(e){"up"===e||"down"===e?this.currentFocus=e:"back"===e||"Backspace"===e?this.currentBlock.value=this.currentBlock.value.slice(0,this.currentBlock.value.length-1):"c"===e?this.clearInputs():"negate"===e?this.currentBlock.value.startsWith("-")?this.currentBlock.value=this.currentBlock.value.slice(1):this.currentBlock.value="-"+this.currentBlock.value:("."===e?this.currentBlock.value?this.currentBlock.value+=e:this.currentBlock.value="0.":this.currentBlock.value+=e,this.currentBlock.value.length>20&&(this.currentBlock.value=this.currentBlock.value.slice(0,this.currentBlock.value.length-1),this.$emit("update-message","Нельзя ввести больше 20 знаков"))),this.convert()},convert(){try{this.targetBlock.value=this.currentBlock.value?Object(K["a"])(`number(${this.currentBlock.value} ${this.currentBlock.unit}, ${this.targetBlock.unit})`).toString():""}catch{this.$emit("update-message","Некорректное выражение")}}}});const be=v()(ue,[["render",te]]);var de=be;const he={class:"absolute left-0 right-0 bottom-1/4 bg-red-300 text-white text-center p-4 rounded-xl"};function me(e,t,s,r,l,i){return Object(n["j"])(),Object(n["e"])("div",he,Object(n["m"])(e.message),1)}var pe=Object(n["h"])({name:"ErrorMessage",props:{message:String}});const ge=v()(pe,[["render",me]]);var ye=ge,ve=Object(n["h"])({name:"App",components:{MainMenuButton:j,CalculatorTool:X,ConverterTool:de,ErrorMessage:ye},data(){return{isDark:!1,tool:"Калькулятор",message:""}},mounted(){"dark"===localStorage.theme||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?this.isDark=!0:this.isDark=!1},methods:{changeTool(e){this.tool=e},setMessage(e){this.message=e,setTimeout(()=>{this.message=""},1300)},changeDarkMode(){this.isDark?localStorage.theme="light":localStorage.theme="dark",this.isDark=!this.isDark}}});s("6afa");const fe=v()(ve,[["render",m]]);var je=fe;s("7d05");Object(n["b"])(je).mount("#app")},d8ce:function(e,t,s){"use strict";s("f700")},f700:function(e,t,s){}});
//# sourceMappingURL=app.90864a23.js.map